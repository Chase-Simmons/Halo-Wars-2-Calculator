<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Halo Wars 2 Calculator</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div>
      <p>
        Supply Pads<span> <input class="input supplyPad" type="number" value="0" /></span>
      </p>

      <p>
        Heavy Supply Pads<span></span>
          <input class="input heavySupplyPad" type="number" value="0"
        /></span>
      </p>

      <p>
        Generators<span> <input class="input generator" type="number" value="0" /></span>
      </p>

      <p>
        Heavy Generators<span>
          <input class="input heavyGenerator" type="number" value="0"
        /></span>
      </p>
    </div>
    <div>
      <p>Supply Per Sec : <span><input class="SPS" value="0" disabled></input></span></p>
      <p>Power Per Sec : <span><input class="PPS" value="0" disabled></input></span></p>
    </div>
    <script>
      const production = {
        supply: 600,
        power: 400,
        supplyPads: 1,
        hSupplyPads: 1,
        generator: 3,
        hGenerator: 2,
        SPS: 0,
        PPS: 0,
      };

      const buildings = {
        supplyPad: {
          buildTime: 20,
          cost: 150,
        },
        generator: {
          buildTime: 20,
          cost: 200,
        },
      };

      const inputs = document.querySelectorAll('.input');

      const supplyPad = document.querySelector('.supplyPad');
      const heavySupplyPad = document.querySelector('.heavySupplyPad');
      const generator = document.querySelector('.generator');
      const heavyGenerator = document.querySelector('.heavyGenerator');

      const SPS = document.querySelector('.SPS');
      const PPS = document.querySelector('.PPS');

      const logger = (sP, hSP, g, hG) => {
        // console.log(sP, hSP, g, hG);
        let totalS = 0;
        let totalP = 0;

        for (let i = 0; i < hSP; i++) {
          const condition = i + 1;
          switch (condition) {
            case 1:
              totalS += 7.5;
              break;
            case 2:
              totalS += 5.75;
              break;
            case 3:
              totalS += 4.2;
              break;
            case 4:
              totalS += 3.47;
              break;
            case 5:
              totalS += 4.41;
              break;
            case 6:
              totalS += 0.7;
              break;
            case 7:
              totalS += 1.67;
              break;
            case 8:
              totalS += 1.3;
              break;
            case 9:
              totalS += 1.95;
              break;
            default:
              break;
          }
        }

        for (let i = 0; i < sP; i++) {
          const condition = i + 1 + parseInt(hSP);
          switch (condition) {
            case 1:
              totalS += 4.75;
              break;
            case 2:
              totalS += 4.28;
              break;
            case 3:
              totalS += 3.66;
              break;
            case 4:
              totalS += 3.3;
              break;
            case 5:
              totalS += 2.95;
              break;
            case 6:
              totalS += 2.47;
              break;
            default:
              break;
          }
        }

        for (let i = 0; i < g; i++) {
          totalP += 3;
        }
        for (let i = 0; i < hG; i++) {
          totalP += 6;
        }

        SPS.value = totalS
        PPS.value = totalP

        production.SPS = totalS
        production.PPS = totalP
      }

      

      const onChange = () => {
        if (supplyPad.value > 6) {
          supplyPad.value = 6;
        }
        if (heavySupplyPad.value > 9) {
          heavySupplyPad.value = 9;
        }
      logger(
        supplyPad.value,
        heavySupplyPad.value,
        generator.value,
        heavyGenerator.value)
      }

      inputs.forEach((input) => input.addEventListener('change', onChange));
      inputs.forEach((input) => input.addEventListener('keyup', onChange));
    </script>
  </body>
</html>
